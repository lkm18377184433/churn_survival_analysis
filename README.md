# fn_survival_analysis 生存分析

# 什么是生存分析？

​	**生存分析(Survival analysis)**是指根据试验或调查得到的数据对生物或人的生存时间进行分析和推断，研究生存时间和结局与众多影响因素间关系及其程度大小的方法，也称生存率分析或存活率分析。生存分析是对一个或多个非负随机变量进行统计推断，研究生存现象和响应时间数据及其统计规律的一门学科。生存分析既考虑结果又考虑时间的一种统计方法，并可充分利用截尾数据所提供的不完全信息，对生存时间的分布特征进行描述，并影响生存时间的主要因素进行分析。特点：既考虑结果又考虑时间。  

# 基本概念  

(1)**起始事件(initial event)**：反应生存时间起始特征的事件，如疾病确诊、某种疾病治疗开始等。  
(2)**失效事件(failure event)**：在生存分析随访研究过程中，一部分研究对象可观察到死亡，可以得到准确的生存时间，它提供的信息是完全的，这种事件称为失效事件，也称之为死亡事件、终点事件。  
(3)**生存时间**：广义上指某个起点事件开始到某个终点事件发生所经历的时间，度量单位可以是年、月、日、小时等，常用符号 t 所示。  
(4)**完全数据(Completed Data)**：从观察起点到发生死亡事件所经历的时间。  
(5)**不完全数据(Incomplete Data)**：生存时间观察过程的截止不是由于死亡事件，而是由其他原因引起的。不完全数据分为：**删失数据(censored Data)**和**截尾数据(truncated Data)**。**不完全主要原因**：失访：指失去联系；退出：死于非研究因素或非处理因素而退出研究；终止：设计时规定的时间已到而终止观察，但研究对象仍然存活。  
(6)**删失分类**：  
①左删失（left censored）：研究对象在某一时刻开始接受观察，但是在该时间点之前，研究所感兴趣的事件已经发生，无法明确具体时间。  
②右删失（right censored）：在进行随访观察中，研究对象观察的起始时间已知，但终点事件发生的时间未知，无法获取具体的生存时间，只知道生存时间大于观察时间。  
③区间删失（interval censored）：在实际的研究中，如果不能够进行连续的观察随访，只能预先设定观察时间点，研究人员仅能知道每个研究对象在两次随访区间内是否发生终点事件，而不知道准确的发生时间。  

**截尾**是所有样本的综合特性，指的是观察的总体是有偏的，只有当事件的失效时间出现在观测区间内，我们才能知道这个事件及其观测数据的存在。  
左截尾（left truncation）：只能观测到一个时间点之后发生的失效事件。左截尾时间点之前发生的失效事件不知情/不关心（如样本来自退休中心，都是>60岁的老人）。  
右截尾（right truncation）：只能观测到一个时间点之前发生的失效事件。右截尾时间点之后发生的失效事件不知情/不关心。  

# 生存分析研究的内容

1.描述生存过程  
**生存曲线(survival curve)**：以观察（随访）时间为横轴，以生存率为纵轴，将各个时间点所对应的生存率连接在一起的曲线图。  

**生存率**：又叫生存概率或者生存函数，表示一个病人的生存时间长于时间t的概率，用s(t)表示，s(t)=P(T≥t)。生存率的估计方法有参数法，非参数法，半参数法，实际中常用非参数法中的乘积极限法及半参数法中的Cox回归模型。  
 2.比较生存过程：一般用Log-rank检验。Log-rank检验属于非参数检验，用于比较两组或多组生存曲线或生存时间是否相同，检验统计量为卡方 χ2 ，自由度df=组数-1。

3.分析危险因素： Cox回归模型。  







参考：https://blog.csdn.net/sinat_26917383/article/details/119006906?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.pc_relevant_paycolumn_v3&spm=1001.2101.3001.4242.1&utm_relevant_index=2

https://mp.weixin.qq.com/s/hqSWRz04f1_3xmbB26IE1g



